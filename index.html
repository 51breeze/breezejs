<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="sizzle.js" ></script>
    <script src="Utils.js" ></script>
    <script src="BreezeEvent.js" ></script>
    <script src="Grep.js" ></script>
    <script src="DataArray.js" ></script>

    <script src="EventDispatcher.js" ></script>
    <script src="Manager.js" ></script>
    <script src="Dictionary.js" ></script>
    <script src="HttpRequest.js" ></script>
    <script src="Breeze.js" ></script>
    <script src="SkinGroup.js" ></script>
    <script src="Component.js" ></script>
    <script src="SkinComponent.js" ></script>

    <script src="DataGrid.js"></script>
    <script src="Bindable.js" ></script>
    <script src="DataSource.js" ></script>
    <script src="Template.js" ></script>
    <script src="DataRender.js" ></script>
    <script src="Pagination.js" ></script>

    <script src="Selection.js" ></script>

    <script src="Modality.js" ></script>
    <script src="Layout.js" ></script>

    <title></title>
</head>

<style type="text/css">

    body{
        margin: 0px;
       /* overflow:hidden;*/
    }


</style>



<script>


    var data=[
        {name:'a','phone':'1'},
        {name:'c','phone':'3'},
        {name:'c','phone':'4'},
        {name:'c','phone':'2'},
        {name:'a','phone':'1'},
        {name:'c','phone':'3'},
        {name:'c','phone':'4'},
        {name:'c','phone':'2'},
        {name:'a','phone':'1'},
        {name:'c','phone':'3'},
        {name:'c','phone':'4'},
        {name:'c','phone':'2'},
        {name:'a','phone':'1'},
        {name:'c','phone':'3'},
        {name:'c','phone':'4'},
        {name:'c','phone':'2'},
        {name:'a','phone':'1'},
        {name:'c','phone':'3'},
        {name:'c','phone':'4'},
        {name:'c','phone':'2'},
        {name:'c','phone':'2'},
        {name:'b','phone':'8'}
    ]




    Breeze(function(){



        // this.height - footer.height - head.height


      /*   var grid = new DataGrid();
          grid.viewport( '.container' );
          grid.pagination( '.page' );
          grid.edit('edit',{callback:function(event){

              console.log( event, this )

          }});

          grid.height('auto').width(800).columnWidth('phone',300).columnWidth('name',100).columnWidth('id',50)

          grid.orderBy('phone')
          grid.orderBy('id')
          grid.columns({'id':'序号','name':'名称','phone':'手机','edit':'操作'});
          grid.component('name',{'bindable':true});
          grid.dataSource( '/json.php' );
          grid.display();


       */



         var selection = new Selection( '#selection' )
         selection.dataRender().source( [{'id':1,'label':'张三'},{'id':2,'label':'李四'}] );
         selection.selectedIndex(0)
         selection.display();


        var s=  new Selection( '#selection' )
        s.selectedIndex(1)
        s.dataRender().source( [{'id':5,'label':'yejun123'},{'id':6,'label':'李四444444'}] );


        /*   var modal =  new Modality()
           modal.width(600).height(400)
           modal.label('标题222')
           modal.content('<h1>123</h1>')
           modal.show(true)

          modal.addEventListener(ModalityEvent.CANCEL,function(event){

           console.log('CANCEL')
           event.stopPropagation()

           })*/


      /*  Breeze.rootEvent().addEventListener(BreezeEvent.RESIZE,function(){

            var w = Breeze(".mcontainer").width()
            Breeze(".mcontainer").width( w+10 );

           // Breeze(".mcontainer").dispatchEvent( new LayoutEvent( LayoutEvent.CHANGE ) )

        },true)*/


        Breeze('#submit').addEventListener(MouseEvent.CLICK,function(){

             var w = Breeze(".mcontainer").width()
             Breeze(".mcontainer").width( w+10 );
             Breeze(".mcontainer").dispatchEvent( new LayoutEvent( LayoutEvent.CHANGE ) )

        },false)




/*
        while( item=/<(\w+)\s+(foreach=([\'\"]).*?\3)/g.exec( html ) )
        {
            var start =  html.slice(0, item.index);
            start+='<? foreach(data item){ ?><'+item[1];
            cursor = item.index + item[0].length;
            html= start+html.substr(cursor, html.length - cursor)
        }





        console.log( html )*/


    })


</script>

<body style="overflow: hidden;">


<!--

<div class="modal" style="width: 300px; height: 200px">
    <div class="head"  explicitHeight="35" skin="head"  style="width: 100%; height: 35px; background-color: #3baecc">
        <label component="layout" percentWidth="30"  percentHeight="0" left="0" class="label" skin="label">标题</label>
        <span component="layout"  percentWidth="30" percentHeight="0" right="0" class="close" skin="close">关闭</span>
    </div>
    <div class="body" component="layout" skin="body" top="35" bottom="35" scrollY="auto" scrollX="hidden" minHeight="300" style="background-color: #e6e7dc; height: 400px; width:100% ">
        <div class="content" component="layout" horizontal="center" vertical="bottom" gap="5" scrollY="hidden" scrollX="hidden">
            <div explicitWidth="500" explicitHeight="200" style="border: solid 1px #ccc;">dsfdsfdsfdsfdsfsd</div>
            <div explicitWidth="500" explicitHeight="200" style="border: solid 1px #ccc;">dsfdsfdsfdsfdsfsd</div>
            <div explicitWidth="500" explicitHeight="200" style="border: solid 1px #ccc;">dsfdsfdsfdsfdsfsd</div>
            <div explicitWidth="500" explicitHeight="200" style="border: solid 1px #ccc;">dsfdsfdsfdsfdsfsd</div>
            <div explicitWidth="500" explicitHeight="200" style="border: solid 1px #ccc;">dsfdsfdsfdsfdsfsd</div>
            <div explicitWidth="500" explicitHeight="200" style="border: solid 1px #ccc;">dsfdsfdsfdsfdsfsd</div>
        </div>
    </div>
    <div class="footer" explicitHeight="35" left="0" bottom="0" skin="footer" style="width: 100%; height: 35px; background-color: #c6bec2">
        <button  skin="cancel">取消</button>
        <button  skin="submit">确认</button>
    </div>
</div>






<button id="submit">点击</button>
-->




<div  id="selection" style="width: 300px; margin: 50px;" data-uuu="yyyy">
    <script type="text/html">
        <div style="width:100%;height:35px;border:solid #999 1px;display:block;background-color:#ffff00" tabindex="-1" skin="container">
            <div style="width:100%;line-height:35px;display:block;cursor:pointer" skin="label">李四4444448888</div>
            <div style="display:none;width:100%;height:auto;z-index:999;position:absolute;background-color:#ffffff;border:solid #333333 1px;padding:0px" skin="group">
                <ul style="width:100%; height:auto;padding: 0px;list-style-type:none;-webkit-margin-before:0px;-webkit-margin-after:0px; text-indent: 0px;" skin="list">
                    <li style="width:100%;height:25px;padding:0px;margin:0px;cursor:pointer" data-index="0" value="5">yejun123ssss</li>
                    <li style="width: 100%; height: 25px; padding: 0px; margin: 0px; cursor: pointer; background-color: rgb(154, 154, 154);" data-index="1" value="6" current="true">李四444444sss</li>
                </ul>
            </div>
        </div>
    </script>
</div>

<script type="text/plain">
    <ul><?foreach('+dataProfile+' as key item){ ?><li {attr li} value="{item["'+valueProfile+'"]}">{item["'+labelProfile+'"]}</li><?}?></ul>
</script>


<!--

<div class="grid" id="grid">
    <div class="container" data-bind style="width: 600px; height: 620px; "></div>
    <div class="page"></div>
</div>

<div data-component="selection">
   <label>请选择</label>
</div>

-->






</body>
</html>